<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio - Education</title>

  <!-- If you have a global CSS, keep it; these styles are focused on the education section -->
  <link rel="stylesheet" href="css/style.css">

  <style>
    /* --- Layout & theme --- */
    :root {
      --theme-1: #211C84;
      --theme-2: #4D55CC;
      --card-bg: #ffffff;
      --page-bg: #f5f7fb;
      --muted: #6b7280;
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--page-bg);
      color: #111827;
    }

    /* --- Education wrapper --- */
    .page-container {
      max-width: 1150px;
      margin: 34px auto;
      padding: 0 20px;
      margin-top: 150px;
    }

    .education-wrapper {
      display: flex;
      gap: 28px;
      align-items: flex-start;
      justify-content: center;
      flex-wrap: wrap;
    }

    .card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 8px 28px rgba(17,24,39,0.06);
      padding: 5px;
      width: 550px;
      max-width: 100%;
      transition: transform .18s ease, box-shadow .18s ease;
    }

    .card:hover { transform: translateY(-6px); box-shadow: 0 14px 40px rgba(17,24,39,0.08); }

    /* left card */
    .edu-left {
      text-align: center;
    }

    .edu-logo { width: 150px; display:block; margin: 0 auto 12px; border-radius:8px; }

    .edu-left h2 { margin: 6px 0 10px; color: var(--theme-1); font-size: 30px; }
    .edu-left h3 { margin: 0 0 6px; font-size: 24px; color: var(--theme-2); }
    .edu-left p { margin: 8px 0; color: var(--muted); font-size:15px; }

    /* right card (chart) */
    .edu-right h2 { text-align: center; margin: 0 0 18px; color: var(--theme-1); font-size:20px; }
    .chart-wrap {
      width: 100%;
      /* keep a nice height that works both desktop & mobile */
      min-height: 307px;
      padding: 6px 4px 4px 4px;
    }

    /* Responsive */
    @media (max-width: 1080px) {
      .education-wrapper { gap: 18px; }
      .card { width: 100%; }
    }
  </style>
</head>
<body>
  <!-- Header (keeps your original nav structure) -->
  <header>
    <nav class="navbar">
      <div class="logo">
        <a href="index.html"><img src="assets/images/V.jpg" alt="logo" style="height:38px;"></a>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="experience.html">Experience</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="certifications.html">Certifications</a></li>
        <li><a href="skills.html">Skills</a></li>
        <li><a href="education.html" class="active">Education</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page content -->
  <main class="page-container">
    <section class="education-wrapper">

      <!-- Left: Education details -->
      <aside class="card edu-left">
        <img class="edu-logo" src="assets/images/LOGO.jpg" alt="University logo">
        <h2>Teerthanker Mahaveer University</h2>
        <h3>Bachelor of Technology</h3>
        <h3 style="font-weight:600; font-size:15px; margin-top:6px;">Computer Science & Engineering</h3>
        <p><strong>Specialization:</strong> Data Science (in collaboration with TCS iON)</p>
        <p><strong>Graduation Score:</strong> 80.6%</p>
        <p>2021 - 2025 â€¢ Moradabad, India</p>
      </aside>

      <!-- Right: Horizontal Bar Chart -->
      <section class="card edu-right">
        <h2>Semester-wise Performance</h2>
        <div class="chart-wrap">
          <canvas id="semesterChart" aria-label="Semester-wise percentage bar chart" role="img"></canvas>
        </div>
      </section>

    </section>
  </main>

  <!-- footer (keeps your icons) -->
  <footer>
        
    <div class="contact-container">
        <!-- Contact Icons -->
        <div class="contact-icons">
            <a href="mailto:vivek2872002@gmail.com" target="_blank" class="contact-icon">
                <img src="assets/images/mail.png" alt="Email">
            </a>
            <a href="tel:+919068152607" class="contact-icon">
                <img src="assets/images/call.png" alt="Phone">
            </a>
            <a href="https://linkedin.com/in/iamviveksingh01" target="_blank" class="contact-icon">
                <img src="assets/images/linkedin.png" alt="LinkedIn">
            </a>
            <a href="https://github.com/iamviveksingh00" target="_blank" class="contact-icon">
                <img src="assets/images/github.png" alt="GitHub">
            </a>
            <a href="mailto:iamviveksingh001@gmail.com" target="_blank" class="contact-icon">
                <img src="assets/images/mail.png" alt="Location">
            </a>
        </div>
</footer>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    // --- data (update these numbers if you want) ---
    const labels = ['Sem 1','Sem 2','Sem 3','Sem 4','Sem 5','Sem 6','Sem 7','Sem 8'];
    const percentages = [77.75,80.9,83.2,80.22,78.22,79.66,81.25,83.6];

    const canvas = document.getElementById('semesterChart');
    const ctx = canvas.getContext('2d');

    // Scriptable background: create a theme gradient that adapts to canvas width
    function themeGradient(ctx, chartArea) {
      const grad = ctx.createLinearGradient(chartArea.left, 0, chartArea.right, 0);
      grad.addColorStop(0, getComputedStyle(document.documentElement).getPropertyValue('--theme-1') || '#211C84');
      grad.addColorStop(1, getComputedStyle(document.documentElement).getPropertyValue('--theme-2') || '#4D55CC');
      return grad;
    }

    // Plugin to draw value labels smartly (inside bar if space, otherwise right side)
    const valueLabelPlugin = {
      id: 'valueLabels',
      afterDatasetsDraw(chart, args, options) {
        const {ctx, chartArea: area} = chart;
        chart.getDatasetMeta(0).data.forEach((bar, idx) => {
          const value = chart.data.datasets[0].data[idx];
          const x = bar.x;
          const y = bar.y;
          ctx.save();
          ctx.font = '600 12px Inter, Arial';
          ctx.textBaseline = 'middle';

          // measure space - if bar end is close to right edge, draw inside with white
          const text = value + '%';
          const textWidth = ctx.measureText(text).width;
          const padding = 8;

          if (x + padding + textWidth < area.right - 4) {
            // draw to the right of bar
            ctx.fillStyle = '#0b1220';
            ctx.fillText(text, x + padding, y);
          } else {
            // draw inside bar (left side near end)
            ctx.fillStyle = '#ffffff';
            ctx.fillText(text, x - textWidth - padding, y);
          }
          ctx.restore();
        });
      }
    };

    // Create chart
    const semesterChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Percentage',
          data: percentages,
          // backgroundColor is scriptable; Chart will pass context
          backgroundColor: function(context) {
            const chart = context.chart;
            const chartArea = chart.chartArea;
            if (!chartArea) return '#211C84'; // before first render
            return themeGradient(chart.ctx, chartArea);
          },
          borderRadius: 8,
          barThickness: 22
        }]
      },
      options: {
        indexAxis: 'y',                // horizontal bars
        responsive: true,
        maintainAspectRatio: false,
        animation: { duration: 900, easing: 'easeOutCubic' },
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: (ctx) => `${ctx.parsed.x}%`
            }
          }
        },
        scales: {
          x: {
            min: 70,
            max: 90,
            ticks: {
              stepSize: 5,
              color: '#374151',
              callback: v => v + '%'
            },
            grid: {
              color: '#e6eef8'
            },
            title: {
              display: true,
              text: 'Percentage (%)',
              color: '#374151',
              font: { weight: 600 }
            }
          },
          y: {
            ticks: { color: '#374151', font: { weight: 600 } },
            grid: { display: false }
          }
        }
      },
      plugins: [valueLabelPlugin]
    });

    // Resize handler to update gradient on layout changes
    window.addEventListener('resize', () => {
      semesterChart.update();
    });
  </script>
</body>
</html>
